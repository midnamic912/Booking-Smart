{"version":3,"sources":["components/Review.jsx","components/Rate.jsx","components/Footer.jsx","components/App.jsx","index.js"],"names":["Review","props","className","rating","style","content","color","time","Rate","rate","width","rateCount","Footer","onClick","forRetryBtn","App","useState","data","setData","fetchData","retryWithAddress","config","params","keyword","axios","get","merchantData","console","log","result","useEffect","name","formatted_address","user_ratings_total","reviews","map","review","index","text","relative_time_description","href","url","target","rel","rootElement","document","getElementById","createRoot","render"],"mappings":"qLAEe,SAASA,EAAOC,GAC7B,OACE,sBAAKC,UAAU,SAAQ,UACrB,4BAAI,WAAaD,EAAME,SACvB,mBAAGC,MAAyB,eAAlBH,EAAMI,QAA2B,CAACC,MAAO,WAAa,KAAK,SAAEL,EAAMI,UAC7E,4BAAIJ,EAAMM,SAGhB,CCOeC,MAff,SAAcP,GACZ,OACE,gCACA,sBAAKC,UAAU,WAAU,UACvB,qBAAKA,UAAU,YAAW,4CAC1B,qBAAKA,UAAU,WAAWE,MAAsB,cAAfH,EAAMQ,KAAuB,CAACC,MAAO,GAAK,CAACA,MAAQT,EAAMQ,KAAK,EAAE,IAAK,KAAK,+CAE7G,qBAAIP,UAAU,OAAM,mBACXD,EAAMQ,KAAI,MAAKR,EAAMU,UAAS,cAK3C,ECHeC,MAVf,SAAgBX,GACZ,OAAQ,gCACR,yEACA,wBAAQY,QAAS,WAAKZ,EAAMa,aAAY,EAAK,EAAE,0BAC/C,oBAAGZ,UAAU,iBAAgB,uBACb,gDAAe,mBAGnC,E,QCuEea,MA1Ef,WAGE,MAAwBC,mBAAS,MAAK,mBAA/BC,EAAI,KAAEC,EAAO,KAGdC,EAAS,iDAAG,WAAOC,GAAgB,qFAQtC,MAPoB,kBACG,2EAElBC,EAAS,CACbC,OAAQ,CACNC,QAASH,EAJW,2EADH,oBAOnB,EAAD,gBAGsCI,IAAMC,IACzC,iCACAJ,GACA,KAAD,WAHaK,EAAY,EAAlBT,KAIRU,QAAQC,IAAI,gBAAiBF,EAAaG,QAC1CX,EAAQQ,EAAaG,QAAQ,uHAIhC,gBApBc,sCA4Bf,OANAC,qBAAU,WACRX,GAAU,EACZ,GAAG,IAICF,EAEA,sBAAKf,UAAU,MAAK,UAClB,oBAAIA,UAAU,eAAc,SAAEe,EAAKc,MAAQd,EAAKc,OAChD,4BAAId,EAAKe,mBAAqBf,EAAKe,oBACnC,cAAC,EAAI,CACHvB,KAAMQ,EAAKd,OAASc,EAAKd,OAAS,YAClCQ,UACEM,EAAKgB,mBACDhB,EAAKgB,mBACL,oBAGR,gDACChB,EAAKiB,QACFjB,EAAKiB,QAAQC,KAAI,SAACC,EAAQC,GACxB,OACE,cAACrC,EAAM,CAELG,OAAQiC,EAAOjC,OACfE,QAAS+B,EAAOE,KAAOF,EAAOE,KAAO,aACrC/B,KAAM6B,EAAOG,2BAHRF,EAMX,IACA,aACJ,cAAC,EAAM,CAACvB,YAAaK,IAErB,mBAAGqB,KAAMvB,EAAKwB,IAAKC,OAAO,SAASC,IAAI,sBAAqB,kCAKhE,qBAAKzC,UAAU,MAAK,SAClB,wDAGN,EC1EM0C,EAAcC,SAASC,eAAe,QAC/BC,qBAAWH,GAGnBI,OAED,cAAC,EAAG,I","file":"static/js/main.bc82222f.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Review(props) {\n  return (\n    <div className=\"review\">\n      <p>{\"Rating: \" + props.rating}</p>\n      <p style={props.content === \"No Comment\" ? {color: \"#B2B2B2\"} : null}>{props.content}</p>\n      <p>{props.time}</p>\n    </div>\n  );\n}\n","import React from \"react\";\n\nfunction Rate(props) {\n  return (\n    <div>\n    <div className=\"rateStar\">\n      <div className=\"emptyStar\">★★★★★</div>\n      <div className=\"fullStar\" style={props.rate === \"No Rating\" ? {width: 0} : {width: (props.rate/5*100)+\"%\"}}>★★★★★</div>\n    </div>\n    <h2 className=\"rate\">\n      Rate: {props.rate} / {props.rateCount} Rates\n    </h2>\n    </div>\n     \n  );\n}\n\nexport default Rate;\n","import React from \"react\";\n\nfunction Footer(props) {\n    return (<div>\n    <p>Wrong Result? Search again with address!</p>\n    <button onClick={()=>{props.forRetryBtn(true)}}>Search Again</button>\n    <p className=\"resourceCredit\">\n          Resource: <span>🚩</span> Google Map\n        </p>\n    </div>)\n}\n\nexport default Footer;","import \"../styles.css\";\nimport Review from \"./Review\";\nimport Rate from \"./Rate\";\nimport Footer from \"./Footer\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nfunction App() {\n\n  //First time load merchant data\n  const [data, setData] = useState(null);\n  \n\n  const fetchData = async (retryWithAddress) => {\n    const merchantName = \"逢甲101\"; // Extention will fetch the hotel name on Booking.com. <document.querySelector('.pp-header__title')>\n    const merchantAddress = \"台中西屯区至善路101巷23號2樓\" // document.querySelector(\".hp_address_subtitle\")\n\n    const config = {\n      params: {\n        keyword: retryWithAddress ? merchantAddress : merchantName, \n      },\n    };\n\n    try {\n      const { data: merchantData } = await axios.get(\n        \"http://localhost:8080/merchant\",\n        config\n      );\n      console.log(\"Log form app:\", merchantData.result);\n      setData(merchantData.result);\n    } catch (error) {\n      throw error\n    }\n  };\n\n  useEffect(() => {\n    fetchData(false);\n  }, []);\n\n\n\n  if (data) {\n    return (\n      <div className=\"App\">\n        <h1 className=\"merchantName\">{data.name && data.name}</h1>\n        <p>{data.formatted_address && data.formatted_address}</p>\n        <Rate\n          rate={data.rating ? data.rating : \"No Rating\"}\n          rateCount={\n            data.user_ratings_total\n              ? data.user_ratings_total\n              : \"No Rating Total\"\n          }\n        />\n        <h4>Newest Review:</h4>\n        {data.reviews\n          ? data.reviews.map((review, index) => {\n              return (\n                <Review\n                  key={index} // when the index of review is static, it's ok\n                  rating={review.rating}\n                  content={review.text ? review.text : \"No Comment\"}\n                  time={review.relative_time_description}\n                />\n              );\n            })\n          : \"No Reviews\"}\n        <Footer forRetryBtn={fetchData}/>\n        {/* create a new tab and prevent tabnapping attacks */}\n        <a href={data.url} target=\"_blank\" rel=\"noopener noreferrer\">See on Google Map</a>\n      </div>\n    );\n  } else{ // UI before the API comes back\n    return (\n    <div className=\"App\">\n      <h1>Loading Hotel Info...</h1>\n    </div>)\n  }\n}\n  \n\nexport default App;\n","import { createRoot } from \"react-dom/client\";\nimport App from \"./components/App\";\n\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\n\nroot.render(\n  \n    <App />\n \n);\n"],"sourceRoot":""}